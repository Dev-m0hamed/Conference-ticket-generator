(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function u(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(t){if(t.ep)return;t.ep=!0;const n=u(t);fetch(t.href,n)}})();const P=document.getElementById("formSection"),p=document.getElementById("ticketForm"),v=document.getElementById("dropZone"),i=document.getElementById("avatar"),c=document.getElementById("uploadImg"),L=document.getElementById("inputText"),I=document.getElementById("controlImg"),D=document.getElementById("removeImg"),b=document.getElementById("hint"),m=document.getElementById("avatarMessage"),s=document.getElementById("fullName"),a=document.getElementById("email"),g=document.getElementById("emailError"),l=document.getElementById("gitHub"),U=document.getElementById("ticketSection"),k=document.getElementById("nameSpan"),N=document.getElementById("nameSpan2"),R=document.getElementById("emailSpan"),Z=document.getElementById("date"),w=document.getElementById("userImage"),z=document.getElementById("gitHubSpan"),F=document.getElementById("idSpan");let r;const H=c.src,M=500*1024;function y(e){m.setAttribute("aria-live","assertive"),m.textContent=e,b.style.color="#DC3545"}function h(){m.setAttribute("aria-live","polite"),m.textContent="Upload your photo (JPG or PNG, max size: 500KB)",b.style.color=""}function B(){c.src=H,i.value="",L.classList.remove("hidden"),I.classList.add("hidden"),r&&(URL.revokeObjectURL(r),r=null)}v.addEventListener("click",()=>i.click());i.addEventListener("change",S);function S(){const e=i.files[0];return!e||!x()?!1:(h(),r&&URL.revokeObjectURL(r),r=URL.createObjectURL(e),c.setAttribute("src",r),w.setAttribute("src",r),c.style.padding=0,c.style.outline="1px solid var(--color-neutral-500)",L.classList.add("hidden"),I.classList.remove("hidden"),!0)}v.addEventListener("dragover",e=>{e.preventDefault()});v.addEventListener("drop",e=>{e.preventDefault(),i.files=e.dataTransfer.files,S()});D.addEventListener("click",e=>{e.stopPropagation(),B()});function x(){const e=i.files[0];return!e&&!r?(y("Please upload your photo."),!1):e&&e.size>M?(y("File too large. Please upload a photo under 500KB."),B(),!1):(h(),!0)}function A(){return s.value.trim()?(s.classList.remove("error-border"),k.textContent=s.value,N.textContent=s.value,!0):(s.classList.add("error-border"),!1)}function C(){const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return!a.value.trim()||!e.test(a.value)?(g.classList.add("error"),g.classList.remove("hidden"),a.classList.add("error-border"),!1):(g.classList.add("hidden"),a.classList.remove("error-border"),R.textContent=a.value,!0)}function O(){return l.value.trim()?(l.classList.remove("error-border"),z.textContent=l.value,!0):(l.classList.add("error-border"),!1)}s.addEventListener("blur",A);a.addEventListener("blur",C);l.addEventListener("blur",O);p.addEventListener("submit",e=>{e.preventDefault(),x()&&A()&&C()&&O()&&(P.classList.add("hidden"),U.classList.remove("hidden"))});const E=p.querySelectorAll("input:not([type=submit])");E.forEach((e,o)=>{e.addEventListener("keydown",u=>{if(u.key==="Enter"){u.preventDefault();const d=E[o+1];d?d.focus():p.querySelector("[type=submit]").focus()}})});const j=new Date;Z.textContent=j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});F.textContent=`#${Date.now().toString().slice(-5)}`;
